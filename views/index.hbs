<div class="container-fluid m-2">
  <div class="row m-2">
    <div class="col-2 mt-3" style="text-align:center;">
      {{!-- Create Button --}}
      <a href="/record/create" method="POST" class="btn btn-success">新增支出</a>
    </div>
    <div class="col-4">
      {{!-- Category --}}
      <div class="category mt-3" style="text-align:center;">
        <form action='/record'>
          <select name="category" id="category" class="btn btn-info" onchange="this.form.submit()"
            style="cursor: pointer;">
            <option style="display:none" selected>{{#if category}}{{category}}{{else}}類別{{/if}}</option>
            <option style="display: none;">類別</option>
            <option>家居物業</option>
            <option>交通出行</option>
            <option>休閒娛樂</option>
            <option>餐飲食品</option>
            <option>其他</option>
          </select>
        </form>
      </div>
    </div>
    <div class="col-6">
      {{!-- Total amount --}}
      <div class="container-fluid mt-3" style="text-align:center;">
        <p>總金額: <strong style="color:orange;">{{totalAmount}}</strong></p>
      </div>
    </div>
  </div>

  {{!-- Expense List --}}
  <div class="container-fluid mt-3">
    <ul class="list-group">
      {{#each records}}
      <li class="list-group-item">
        <div class="row align-items-center">
          <div class="col-6 d-flex align-items-center">
            <div class="category-icon" style="margin-right:15px;">
              {{{this.category}}}
            </div>
            <div class="item">
              <div style="font-size: 1.2em;">{{this.name}}</div>
              <div style="font-size: 0.5em;">{{this.date}}</div>
            </div>
          </div>
          <div class="col-2">
            <span style="font-size: 1.5em;">{{this.amount}}</span>
          </div>
          <div class="col-4">
            <div class="btns">
              <a href="/record/{{this._id}}?_method=PUT" class="btn btn-warning">修改</a>
              <form action="/record/{{this._id}}?_method=DELETE" method="POST" style="display: inline;">
                <button type="submit" class="btn btn-danger">刪除</button>
              </form>
            </div>
          </div>
        </div>
      </li>
      {{/each}}
    </ul>
  </div>
</div>